<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrice d'Eisenhower</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="titlebar">
    <span class="titlebar-text"></span>
    <div class="update-banner" id="updateBanner" style="display:none">Mise à jour disponible</div>
    <button class="clear-tasks" id="clearTasks" title="Supprimer toutes les tâches">
      <svg width="15" height="15" viewBox="0 0 15 15" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
        <line x1="1.5" y1="3.5" x2="13.5" y2="3.5"/>
        <path d="M4.5 3.5V2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v1.5"/>
        <path d="M3 3.5l.85 8.5a.5.5 0 0 0 .5.5h6.3a.5.5 0 0 0 .5-.5L12 3.5"/>
        <line x1="5.75" y1="6.5" x2="5.75" y2="10.5"/>
        <line x1="9.25" y1="6.5" x2="9.25" y2="10.5"/>
      </svg>
    </button>
    <button class="theme-toggle" id="themeToggle" title="Changer de thème"></button>
  </div>
  <div class="container">
    <!-- Colonne gauche : Ajout de tâches -->
    <aside class="sidebar left-sidebar">
      <div class="sidebar-header">
        <h2>Nouvelle tâche</h2>
      </div>
      <div class="add-task-section">
        <input
          type="text"
          id="taskInput"
          placeholder="Entrez une tâche..."
          autocomplete="off"
        >
        <button id="addTaskBtn">Ajouter</button>
        <input type="file" id="importFileInput" accept=".txt,.md" style="display:none">
        <button id="importBtn">Importer une liste</button>
      </div>
      <div class="unassigned-tasks">
        <h3>Tâches non assignées</h3>
        <div id="taskList" class="task-list"></div>
      </div>
    </aside>

    <!-- Centre : Matrice d'Eisenhower -->
    <main class="matrix-container">
      <div class="matrix-header">
        <h1>Matrice d'Eisenhower</h1>
      </div>
      <div class="matrix">
        <!-- Quadrant 1 : Urgent & Important -->
        <div class="quadrant q1" data-quadrant="1">
          <div class="quadrant-header">
            <h3>Faire immédiatement</h3>
            <span class="quadrant-label">Urgent & Important</span>
          </div>
          <div class="quadrant-tasks" data-drop-zone="1"></div>
        </div>

        <!-- Quadrant 2 : Important mais pas urgent -->
        <div class="quadrant q2" data-quadrant="2">
          <div class="quadrant-header">
            <h3>Planifier</h3>
            <span class="quadrant-label">Important & Non urgent</span>
          </div>
          <div class="quadrant-tasks" data-drop-zone="2"></div>
        </div>

        <!-- Quadrant 3 : Urgent mais pas important -->
        <div class="quadrant q3" data-quadrant="3">
          <div class="quadrant-header">
            <h3>Déléguer - Annuler si pas le temps</h3>
            <span class="quadrant-label">Urgent & Non important</span>
          </div>
          <div class="quadrant-tasks" data-drop-zone="3"></div>
        </div>

        <!-- Quadrant 4 : Ni urgent ni important -->
        <div class="quadrant q4" data-quadrant="4">
          <div class="quadrant-header">
            <h3>À piocher si on en a envie et le temps</h3>
            <span class="quadrant-label">Non urgent & Non important</span>
          </div>
          <div class="quadrant-tasks" data-drop-zone="4"></div>
        </div>
      </div>

      <!-- Labels des axes -->
      <div class="axis-labels">
        <div class="axis-label vertical">
          <span>IMPORTANCE</span>
        </div>
        <div class="axis-label horizontal">
          <span>URGENCE</span>
        </div>
      </div>
    </main>

    <!-- Colonne droite : Liste priorisée -->
    <aside class="sidebar right-sidebar">
      <div class="sidebar-header">
        <h2>Liste priorisée</h2>
      </div>
      <div class="prioritized-list">
        <div class="priority-section" data-priority="1">
          <h3 class="priority-header q1-bg">Faire maintenant</h3>
          <div class="priority-tasks" id="priority-1"></div>
        </div>
        <div class="priority-section" data-priority="2">
          <h3 class="priority-header q2-bg">Planifier</h3>
          <div class="priority-tasks" id="priority-2"></div>
        </div>
        <div class="priority-section" data-priority="3">
          <h3 class="priority-header q3-bg">Déléguer</h3>
          <div class="priority-tasks" id="priority-3"></div>
        </div>
        <div class="priority-section" data-priority="4">
          <h3 class="priority-header q4-bg">À piocher</h3>
          <div class="priority-tasks" id="priority-4"></div>
        </div>
      </div>
      <div class="export-section">
        <button id="exportBtn">Exporter</button>
      </div>
    </aside>
  </div>

  <div class="file-drop-overlay" id="fileDropOverlay">
    <span class="file-drop-overlay-label">Déposer le fichier ici</span>
  </div>

  <div class="modal-overlay" id="confirmModal">
    <div class="modal">
      <p>Êtes-vous sûr de vouloir supprimer toutes les tâches ?</p>
      <div class="modal-buttons">
        <button class="modal-btn modal-btn-cancel" id="confirmNo">Annuler</button>
        <button class="modal-btn modal-btn-confirm" id="confirmYes">Supprimer</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="updateModal">
    <div class="modal">
      <h3 id="updateModalTitle" style="margin-bottom:12px;font-size:16px;">Mise à jour disponible</h3>
      <p id="updateModalVersion" style="font-size:13px;color:var(--text-secondary);margin-bottom:8px;"></p>
      <div class="update-notes" id="updateModalNotes"></div>
      <div class="progress-bar" id="updateProgress" style="display:none">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <p id="progressText" style="display:none;font-size:12px;text-align:center;color:var(--text-secondary);margin-top:6px;"></p>
      <div class="modal-buttons" id="updateModalButtons">
        <button class="modal-btn modal-btn-cancel" id="updateModalClose">Plus tard</button>
        <button class="modal-btn modal-btn-confirm" id="updateModalInstall">Installer</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="exportModal">
    <div class="modal modal-export">
      <h3 style="margin-bottom:20px;font-size:16px;">Exporter la liste</h3>
      <div class="modal-buttons">
        <button class="modal-btn modal-btn-cancel" id="exportModalClose">Annuler</button>
        <button class="modal-btn modal-btn-neutral" id="exportClipboard">Copier dans le presse-papier</button>
        <button class="modal-btn modal-btn-action" id="exportMarkdown">Télécharger .md</button>
      </div>
    </div>
  </div>

  <div class="export-toast" id="exportToast">Fichier enregistré !</div>

  <div class="undo-toast" id="undoToast">
    <span>Tâche supprimée</span>
    <button id="undoBtn">Annuler</button>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
